# S.C.O.U.T. API Docs

## Для тестовых запросов

### Получение тестовых значений

Возвращает тестовые значения в формате JSON.

**Метод запроса:** GET

**URL запроса:** api/test/get

**Тело запроса:**
```
    пустое
```

**Тело ответа:**
```
{
    "stringField": "default",
    "intField": 0,
    "arrayField": [
        "value1",
        "value2",
        "value3"
    ]
}
```

### Установка и получение тестовых значений

Принимает данные в формает JSON и возвращает их.

**Метод запроса:** GET

**URL запроса:** api/test/set

**Тело запроса:**
```
{
    "stringField": "value",
    "intField": 13,
    "arrayField": [
        "value",
        "value"
    ]
}
```

**Тело ответа:**
```
{
    "stringField": "value",
    "intField": 13,
    "arrayField": [
        "value",
        "value"
    ]
}
```

## Взаимодействие с пользователем

### Регистрация нового пользователя

Регистрирует нового пользователя c указанным *username* и возвращает JWT-токен сессии. Если пользователь с таким *username* уже существует, то возвращает ошибку.

**Метод запроса:** POST

**URL запроса:** api/user/create

**Тело запроса:**
```
{
    "username": "value"
}
```

**Тело ответа:**
```
{
    "token": "value"
}
```

### Авторизация существующего пользователя

Авторизует пользователя с указанным *username* и возвращает JWT-токен сессии. Если пользователя с указанным *username* не существует, то возвращает ошибку.

**Метод запроса:** GET

**URL запроса:** api/user/auth

**Тело запроса:**
```
{
    "username": "value"
}
```

**Тело ответа:**
```
{
    "token": "value"
}
```

### Получение информации о пользователе

Возвращает информацию о пользователе с указанным *username*. Если пользователя с указанным *username* не существует, то возвращает ошибку.

**Метод запроса:** GET

**URL запроса:** api/user/info

**Заголовок запроса**: токен сессии пользователя

**Тело запроса:**
```
{
    "username": "value"
}
```

**Тело ответа:**
```
{
    "username": "value",
    "friendsCount": value,
    "visitedEventsCount": value,
    "upcomingEventsCount": value,
    "friendsIds": ["value1", "value2", "value3"],
    "visitedEventsIds": ["value1", "value2", "value3"],
    "upcomingEventsIds": ["value1", "value2", "value3"]
}
```

### Добавление пользователя в друзья

Добавляет к пользователю с *username1* в друзья пользователя с *username2* и пользователя с *username1* в друзья к пользователю с *username2*. Если пользователь с *username1* или с *username2* не существует, либо в случае если *username1* и *username2* совпадают или данные пользователи уже являются друзьями, то возвращает ошибку *400 BadRequest*. В случае если в процессе обновления записей в базе данных произошла ошибка, вернет ошибку *500 Internat Server Error*.

**Метод запроса:** PUT

**URL запроса:** api/user/friendship

**Заголовок запроса:** токен сессии пользователя

**Тело запроса:**
```
{
    "username1": "value",
    "username2": "value"
}
```

## Взаимодействие с мероприятиями

### Создание нового мероприятия

Добавляет в базу данных информацию о новом мероприятии и возвращает его *id*.

**Метод запроса:** POST

**URL запроса:** api/sportevent/create

**Заголовок запроса**: токен сессии пользователя

**Тело запроса:**
```
{
    "title": "value",
    "playgroundId": "value",
    "date": "value",
    "description": "value"
}
```

**Тело ответа:**
```
{
    "id": "value"
}
```

### Получение информации о мероприятии

Возвращает информацию о мероприятии с указанным *id*. Если такого мероприятия не существует, то возвращает *404 Not Found*.

**Метод запроса:** GET

**URL запроса:** api/sportevent/info

**Заголовок запроса**: токен сессии пользователя

**Тело запроса:**
```
{
    "id": "value"
}
```

** Тело ответа:**
```
{
    "title": "value",
    "organizatorId": "value",
    "playgroundId": "value",
    "participantsCount": value,
    "participantsIds": ["value", "value", "value"],
    "date": "value"
}
```

### Отправка заявки на участие в мероприятии

Добавляет пользователя в качестве участника в мероприятие с указанным *id*.

**Метод запроса:** PUT

**URL запроса:** api/sportevent/participate

**Заголовок запроса**: токен сессии пользователя

**Тело запроса:**
```
{
    "id": "value"
}
```
